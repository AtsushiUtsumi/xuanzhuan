package {{package}};

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Propagation;
import org.springframework.transaction.annotation.Transactional;

{% set key=table.name | to_upper_camel_case %}import {{import_dict[key]}};
{% set key=table.name | to_upper_camel_case + "Dao" %}import {{import_dict[key]}};

@Service
public class {{table.name | to_upper_camel_case}}Service {

    @Autowired
    private {{table.name | to_upper_camel_case}}Dao {{table.name | to_lower_camel_case}}Dao;

    public boolean exists(Integer id) {
        return false;
    }

    @Transactional(propagation = Propagation.REQUIRED, rollbackFor = Throwable.class)
    public void register({{table.name | to_upper_camel_case}} {{table.name | to_lower_camel_case}}) {
        {{table.name | to_lower_camel_case}}Dao.update({{table.name | to_lower_camel_case}});
        return;
    }

    @Transactional(propagation = Propagation.REQUIRED, rollbackFor = Throwable.class)
    public void update({{table.name | to_upper_camel_case}} {{table.name | to_lower_camel_case}}) {
        {{table.name | to_lower_camel_case}}Dao.update({{table.name | to_lower_camel_case}});
        return;
    }

    @Transactional(propagation = Propagation.REQUIRED, rollbackFor = Throwable.class)
    public void delete({{table.name | to_upper_camel_case}} {{table.name | to_lower_camel_case}}) {
        {{table.name | to_lower_camel_case}}Dao.delete({{table.name | to_lower_camel_case}});
        return;
    }
}

